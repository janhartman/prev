#check nested compound expressions in all allowable forms
#static link is taken to be of size 8
{
  A={none:foo(A) where var A:int; fun foo(A:int):int=A};
  A={none:foo(A) where var A:int; fun foo(A:int):int=A}
  :
  1
  where
  fun foo(A:int,B:int):int={
    a=@{none:a where var a:ptr int}
      :
      {
       a= {a={none:b where var b:int}:a where var a:int}+{none:a where var a:int};
       b={none:a where var a:arr[2]int}[+{none:a where var a:int}]
       :
       [int]{none:a where var b:int; var a:rec(a:arr[2]int,b:char)}.b
       where
       var a:int;
       var b:int
      }
      where
      var a:int
  };
  var A:int;
  var B:int
}
